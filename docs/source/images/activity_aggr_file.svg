<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="874px" preserveAspectRatio="none" style="width:663px;height:874px;" version="1.1" viewBox="0 0 663 874" width="663px" zoomAndPan="magnify"><defs><filter height="300%" id="f1enb2bzhjec9f" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="547" x="57" y="26.708">Activity diagram sbws relays exclusion V3BWFile.from_results</text><ellipse cx="278.25" cy="40.9531" fill="#000000" filter="url(#f1enb2bzhjec9f)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1enb2bzhjec9f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="211.25" y="70.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="114" x="221.25" y="92.0918">router_statuses_d</text><rect fill="#FEFECE" filter="url(#f1enb2bzhjec9f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="263" x="146.75" y="168.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="243" x="156.75" y="190.0605">line, reason = V3BWLine.from_results()</text><polygon fill="#FEFECE" filter="url(#f1enb2bzhjec9f)" points="244.25,222.8906,312.25,222.8906,324.25,234.8906,312.25,246.8906,244.25,246.8906,232.25,234.8906,244.25,222.8906" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="244.25" y="238.6987">not reason?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="212.25" y="232.2964">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="324.25" y="232.2964">no</text><rect fill="#FEFECE" filter="url(#f1enb2bzhjec9f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="178" x="38" y="256.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="158" x="48" y="278.0293">bwlines_raw.append(line)</text><rect fill="#FEFECE" filter="url(#f1enb2bzhjec9f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="218" x="320.5" y="256.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="198" x="330.5" y="278.0293">bw_lines_excluded.append(line)</text><rect fill="#FEFECE" filter="url(#f1enb2bzhjec9f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="387" x="236" y="310.8594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="367" x="246" y="331.998">exclusion_dict[reason] = exclusion_dict.get(reason, 0) + 1</text><polygon fill="#FEFECE" filter="url(#f1enb2bzhjec9f)" points="278.25,350.8281,290.25,362.8281,278.25,374.8281,266.25,362.8281,278.25,350.8281" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f1enb2bzhjec9f)" points="233.25,124.9219,323.25,124.9219,335.25,136.9219,323.25,148.9219,233.25,148.9219,221.25,136.9219,233.25,124.9219" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="233.25" y="140.73">results.items()?</text><rect fill="#FEFECE" filter="url(#f1enb2bzhjec9f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="357" x="99.75" y="416.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="337" x="109.75" y="437.9668">header.add_relays_excluded_counters(exclusion_dict)</text><rect fill="#FEFECE" filter="url(#f1enb2bzhjec9f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="240" x="158.25" y="519.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="220" x="168.25" y="540.3379">return (header, bw_lines_excluded)</text><ellipse cx="278.25" cy="590.6836" fill="none" filter="url(#f1enb2bzhjec9f)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="278.75" cy="591.1836" fill="#000000" filter="url(#f1enb2bzhjec9f)" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><polygon fill="#FEFECE" filter="url(#f1enb2bzhjec9f)" points="226.25,470.7969,330.25,470.7969,342.25,482.7969,330.25,494.7969,226.25,494.7969,214.25,482.7969,226.25,470.7969" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="282.25" y="505.0073">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="226.25" y="486.605">not bw_lines_raw?</text><rect fill="#FEFECE" filter="url(#f1enb2bzhjec9f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="225" x="165.75" y="691.0859"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="205" x="175.75" y="712.2246">bw_lines = cls.bw_torflow_scale()</text><polygon fill="#FEFECE" filter="url(#f1enb2bzhjec9f)" points="191.25,642.6836,365.25,642.6836,377.25,654.6836,365.25,666.6836,191.25,666.6836,179.25,654.6836,191.25,642.6836" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="282.25" y="676.894">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="191.25" y="658.4917">scaling_method == TORFLOW?</text><polygon fill="#FEFECE" filter="url(#f1enb2bzhjec9f)" points="278.25,745.0547,290.25,757.0547,278.25,769.0547,266.25,757.0547,278.25,745.0547" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#f1enb2bzhjec9f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="310" x="123.25" y="789.0547"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="290" x="133.25" y="810.1934">return (header, bw_lines + bw_lines_excluded)</text><ellipse cx="278.25" cy="853.0234" fill="none" filter="url(#f1enb2bzhjec9f)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="278.75" cy="853.5234" fill="#000000" filter="url(#f1enb2bzhjec9f)" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.25" x2="278.25" y1="50.9531" y2="70.9531"/><polygon fill="#A80036" points="274.25,60.9531,278.25,70.9531,282.25,60.9531,278.25,64.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="429.5" x2="429.5" y1="290.8594" y2="310.8594"/><polygon fill="#A80036" points="425.5,300.8594,429.5,310.8594,433.5,300.8594,429.5,304.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="232.25" x2="127" y1="234.8906" y2="234.8906"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="127" x2="127" y1="234.8906" y2="256.8906"/><polygon fill="#A80036" points="123,246.8906,127,256.8906,131,246.8906,127,250.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="324.25" x2="429.5" y1="234.8906" y2="234.8906"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="429.5" x2="429.5" y1="234.8906" y2="256.8906"/><polygon fill="#A80036" points="425.5,246.8906,429.5,256.8906,433.5,246.8906,429.5,250.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="127" x2="127" y1="290.8594" y2="362.8281"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="127" x2="266.25" y1="362.8281" y2="362.8281"/><polygon fill="#A80036" points="256.25,358.8281,266.25,362.8281,256.25,366.8281,260.25,362.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="429.5" x2="429.5" y1="344.8281" y2="362.8281"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="429.5" x2="290.25" y1="362.8281" y2="362.8281"/><polygon fill="#A80036" points="300.25,358.8281,290.25,362.8281,300.25,366.8281,296.25,362.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.25" x2="278.25" y1="202.8906" y2="222.8906"/><polygon fill="#A80036" points="274.25,212.8906,278.25,222.8906,282.25,212.8906,278.25,216.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.25" x2="278.25" y1="148.9219" y2="168.9219"/><polygon fill="#A80036" points="274.25,158.9219,278.25,168.9219,282.25,158.9219,278.25,162.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.25" x2="278.25" y1="374.8281" y2="384.8281"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.25" x2="637" y1="384.8281" y2="384.8281"/><polygon fill="#A80036" points="633,269.875,637,259.875,641,269.875,637,265.875" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="637" x2="637" y1="136.9219" y2="384.8281"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="637" x2="335.25" y1="136.9219" y2="136.9219"/><polygon fill="#A80036" points="345.25,132.9219,335.25,136.9219,345.25,140.9219,341.25,136.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="221.25" x2="24" y1="136.9219" y2="136.9219"/><polygon fill="#A80036" points="20,255.875,24,265.875,28,255.875,24,259.875" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="24" x2="24" y1="136.9219" y2="396.8281"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="24" x2="278.25" y1="396.8281" y2="396.8281"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.25" x2="278.25" y1="396.8281" y2="416.8281"/><polygon fill="#A80036" points="274.25,406.8281,278.25,416.8281,282.25,406.8281,278.25,410.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.25" x2="278.25" y1="104.9219" y2="124.9219"/><polygon fill="#A80036" points="274.25,114.9219,278.25,124.9219,282.25,114.9219,278.25,118.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.25" x2="278.25" y1="553.168" y2="580.6836"/><polygon fill="#A80036" points="274.25,570.6836,278.25,580.6836,282.25,570.6836,278.25,574.6836" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.25" x2="278.25" y1="494.7969" y2="519.1992"/><polygon fill="#A80036" points="274.25,509.1992,278.25,519.1992,282.25,509.1992,278.25,513.1992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="342.25" x2="408.25" y1="482.7969" y2="482.7969"/><polygon fill="#A80036" points="404.25,550.6836,408.25,560.6836,412.25,550.6836,408.25,554.6836" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="408.25" x2="408.25" y1="482.7969" y2="622.6836"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="408.25" x2="278.25" y1="622.6836" y2="622.6836"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.25" x2="278.25" y1="622.6836" y2="642.6836"/><polygon fill="#A80036" points="274.25,632.6836,278.25,642.6836,282.25,632.6836,278.25,636.6836" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.25" x2="278.25" y1="450.7969" y2="470.7969"/><polygon fill="#A80036" points="274.25,460.7969,278.25,470.7969,282.25,460.7969,278.25,464.7969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.25" x2="278.25" y1="666.6836" y2="691.0859"/><polygon fill="#A80036" points="274.25,681.0859,278.25,691.0859,282.25,681.0859,278.25,685.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="377.25" x2="400.75" y1="654.6836" y2="654.6836"/><polygon fill="#A80036" points="396.75,698.0703,400.75,708.0703,404.75,698.0703,400.75,702.0703" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="400.75" x2="400.75" y1="654.6836" y2="757.0547"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="400.75" x2="290.25" y1="757.0547" y2="757.0547"/><polygon fill="#A80036" points="300.25,753.0547,290.25,757.0547,300.25,761.0547,296.25,757.0547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.25" x2="278.25" y1="725.0547" y2="745.0547"/><polygon fill="#A80036" points="274.25,735.0547,278.25,745.0547,282.25,735.0547,278.25,739.0547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.25" x2="278.25" y1="769.0547" y2="789.0547"/><polygon fill="#A80036" points="274.25,779.0547,278.25,789.0547,282.25,779.0547,278.25,783.0547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="278.25" x2="278.25" y1="823.0234" y2="843.0234"/><polygon fill="#A80036" points="274.25,833.0234,278.25,843.0234,282.25,833.0234,278.25,837.0234" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml

title Activity diagram sbws relays exclusion V3BWFile.from_results

start
:router_statuses_d;
while (results.items()?)
    :line, reason = V3BWLine.from_results();
    if (not reason?) then (yes)
        :bwlines_raw.append(line);
    else (no)
        :bw_lines_excluded.append(line);
        :exclusion_dict[reason] = exclusion_dict.get(reason, 0) + 1;
    endif
endwhile
:header.add_relays_excluded_counters(exclusion_dict);
if (not bw_lines_raw?) then (yes)
    :return (header, bw_lines_excluded);
    stop
endif
if (scaling_method == TORFLOW?) then (yes)
    :bw_lines = cls.bw_torflow_scale();
endif
:return (header, bw_lines + bw_lines_excluded);
stop

@enduml

PlantUML version 1.2018.13(Mon Nov 26 17:11:51 GMT 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.9.1+1-post-Debian-1deb10u2
Operating System: Linux
OS Version: 4.19.0-13-amd64
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>